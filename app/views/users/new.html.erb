<h1>Sign Up</h1>

<%= form_for :user, url:users_path do |f| %>
  <div class="col-xs-12 danger">
  <%= render 'shared/error_messages' %>
  </div>
<div class="row">
<div class="col-xs-12">
  <p>
    <%= f.label :type %><br>
    <%= f.select :type, options_for_select(
	[[''],
	 ['Buyer'],
	 ['Distributor'],
	 ['Farm']]), {}, id: "usertype" %>
  </p>
  <p>
    <%= f.label :name %> <br>
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :email %><br>
    <%= f.email_field :email %>
  </p>
  <div id="location" style="display:none;">
   <p> <%= f.label :location, "Address" %><br>
    <input id="location" name="user[location]" type="text" /></p>
  </div>
  <p>
    <%= f.label :password %><br>
    <%= f.password_field :password %>
  </p>
  <p>
    <%= f.label :password_confirmation, "Confirm Password" %><br>
    <%= f.password_field :password_confirmation %>
  </p>
  <p>
    <%= f.submit "Create Account"%>
  </p>
<% end %>
</div>
</div>

<script type="text/javascript">
$('#usertype').change(function(){
  selection = $(this).val();
  switch(selection)
  {
    case 'Buyer':
       $('#location').show();
       break;
    case 'Farm':
       $('#location').show();
       break;
    case 'Distributor':
       $('#location').hide();
       break;
    default:
       $('#location').hide();
  }
});
</script>
