<h1>Sign Up</h1>

<%= form_for :user, url:users_path do |f| %>
  <p><%= render 'shared/error_messages' %></p>
  <p>
    <%= f.label :type %><br>
    <%= f.select :type, options_for_select(
	[[''],
	 ['Buyer'],
	 ['Distributor'],
	 ['Farm']]), {}, id: "usertype" %>
  </p>
  <div id="location" style="display:none;">
    <%= f.label :location %><br>
    <input id="location" name="user[location]" type="text" />
  </div>
  <p>
    <%= f.label :name %> <br>
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :email %><br>
    <%= f.email_field :email %>
  </p>
  <p>
    <%= f.label :password %><br>
    <%= f.password_field :password %>
  </p>
  <p>
    <%= f.label :password_confirmation, "Confirm Password" %><br>
    <%= f.password_field :password_confirmation %>
  </p>
  <p>
    <%= f.submit %>
  </p>
<% end %>

<script type="text/javascript">
$('#usertype').change(function(){
  selection = $(this).val();
  switch(selection)
  {
    case '1':
       $('#location').show();
       break;
    case '3':
       $('#location').show();
       break;
    case '2':
       $('#location').hide();
       break;
    default:
       $('#location').hide();
  }
});
</script>
